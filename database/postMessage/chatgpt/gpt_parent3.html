<!DOCTYPE html>
<html>
<body>
<iframe id="child" src="http://localhost:4000/child.html"></iframe>
<script>
const iframe = document.getElementById('child');
window.addEventListener('message', (event) => {
  try {
    const originURL = new URL(event.origin);
    if (originURL.protocol === 'http:' && originURL.hostname === 'localhost' && originURL.port === '4000') {
      console.log('Received:', event.data);
    }
  } catch {}
});
iframe.onload = () => {
  iframe.contentWindow.postMessage('Hello from parent', 'http://localhost:4000');
};
</script>
</body>
</html>
